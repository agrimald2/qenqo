import{o as r,f as l,a as i,u as h,w as x,F as n,Z as f,b as e,h as y,v as g,k as _,t as b}from"./app-a7ca0acf.js";import{A as k}from"./AuthenticatedLayout-c6bcfa3f.js";import{B as d}from"./Breadcrumb-08f68482.js";import{L as c}from"./Loader-783adae2.js";import p from"./Create-2835fb8c.js";import u from"./Edit-52b7981c.js";import"./_plugin-vue_export-helper-c27b6911.js";const w={class:"shadow-md sm:rounded-lg relative"},v={class:"px-2 flex items-center justify-between py-4 bg-white"},F={class:"flex items-center"},C={class:"relative w-full"},N=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{class:"w-4 h-4 text-gray-500","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5v10M3 5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm12 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm0 0V6a3 3 0 0 0-3-3H9m1.5-2-2 2 2 2"})])],-1),B=e("span",{class:"hidden md:flex"}," Nuevo ",-1),L=e("i",{class:"ml-2 fa-solid fa-user-plus font-xl"},null,-1),M=[B,L],Q={class:"overflow-x-auto"},j={key:0,class:"w-full text-sm text-left text-gray-500 table"},q=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Nombre "),e("th",{scope:"col",class:"px-6 py-3"}," ¿Habilitada? "),e("th",{scope:"col",class:"px-6 py-3"}," ¿Permiso de Admin? "),e("th",{scope:"col",class:"px-6 py-3"}," Acciones ")])],-1),A={class:"bg-white border-b hover:bg-gray-50"},V={scope:"row",class:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap"},Z={class:"pl-3"},D={class:"text-base font-semibold"},E={class:"px-6 py-4"},I={key:0,class:"bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300"},O={key:1,class:"bg-red-100 text-red-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-300"},S={class:"px-6 py-4"},$={key:0,class:"bg-purple-100 text-purple-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-purple-900 dark:text-purple-300"},H={key:1,class:"bg-yellow-100 text-yellow-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-yellow-900 dark:text-yellow-300"},P={class:"px-6 py-4"},T=["onClick"],U=["onClick"],z={key:1,role:"status",class:"flex justify-center p-10"},G={components:{Breadcrumb:d,Loader:c,Edit:u,Create:p},props:["breadcrumbs"],data(){return{param:null,families:null,searchQuery:null}},methods:{showModal(o){let t=document.getElementById(o);console.log(o),t.classList.remove("slide-out-bck-center"),t.classList.remove("no-display")},async deleteFamily(o){try{const t=await axios.delete("/families/"+o);this.fetch()}catch(t){console.log(t)}},async fetch(){this.families=null;try{const o=await axios.get("/getFamilies",{params:{name:this.searchQuery}});this.families=o.data}catch(o){console.log(o)}}},mounted(){this.fetch()},watch:{searchQuery:{handler(){this.fetch()},immediate:!0}}},se=Object.assign(G,{__name:"Index",setup(o){return(t,a)=>(r(),l(n,null,[i(h(f),{title:"Familias"}),i(k,null,{default:x(()=>[i(d,{breadcrumbs:o.breadcrumbs},null,8,["breadcrumbs"]),e("div",w,[e("div",v,[e("div",F,[e("div",C,[N,y(e("input",{type:"text",id:"simple-search","onUpdate:modelValue":a[0]||(a[0]=s=>t.searchQuery=s),onInput:a[1]||(a[1]=(...s)=>t.fetch&&t.fetch(...s)),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full pl-10 p-2.5 dark:placeholder-gray-400 dark:focus:ring-purple-500 dark:focus:border-purple-500",placeholder:"Nombre | N° Doc",required:""},null,544),[[g,t.searchQuery]])])]),e("button",{type:"button",onClick:a[2]||(a[2]=s=>t.showModal("createFamily")),class:"text-white bg-purple-800 hover:bg-[#050708]/80 focus:ring-4 focus:outline-none focus:ring-[#050708]/50 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-gray-600 mr-2 mb-2"},M)]),e("div",Q,[t.families?(r(),l("table",j,[q,e("tbody",null,[(r(!0),l(n,null,_(t.families,(s,J)=>(r(),l("tr",A,[e("th",V,[e("div",Z,[e("div",D,b(s.name),1)])]),e("td",E,[s.is_enabled?(r(),l("span",I,"SÍ")):(r(),l("span",O,"NO"))]),e("td",S,[s.required_admin_permission?(r(),l("span",$,"SÍ")):(r(),l("span",H,"NO"))]),e("td",P,[e("i",{onClick:m=>t.showModal("editFamily"+s.id),class:"fa-solid fa-square-pen text-3xl text-yellow-500 cursor-pointer ml-2"},null,8,T),i(u,{id:"editFamily"+s.id,family:s},null,8,["id","family"]),e("i",{onClick:m=>t.deleteFamily(s.id),class:"fa-solid fa-square-xmark text-3xl text-red-500 cursor-pointer ml-2"},null,8,U)])]))),256))])])):(r(),l("div",z,[i(c)]))]),i(p,{id:"createFamily"})])]),_:1})],64))}});export{se as default};

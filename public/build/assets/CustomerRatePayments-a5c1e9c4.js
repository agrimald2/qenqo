import{A as u}from"./AuthenticatedLayout-c6bcfa3f.js";import{o,f as r,a as l,u as m,w as p,F as d,Z as h,b as e,k as _,t as c}from"./app-a7ca0acf.js";import{B as n}from"./Breadcrumb-08f68482.js";import{L as i}from"./Loader-783adae2.js";import"./_plugin-vue_export-helper-c27b6911.js";const y={class:"shadow-md sm:rounded-lg relative"},x={class:"overflow-x-auto"},g={key:0,class:"w-full text-sm text-left text-gray-500 table"},b=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Fecha "),e("th",{scope:"col",class:"px-6 py-3"}," Monto Pagado "),e("th",{scope:"col",class:"px-6 py-3"}," Status "),e("th",{scope:"col",class:"px-6 py-3"}," MÃ©todo de Pago "),e("th",{scope:"col",class:"px-6 py-3"}," Usuario "),e("th",{scope:"col",class:"px-6 py-3"}," Acciones ")])],-1),f={class:"bg-white border-b hover:bg-gray-50"},k={scope:"row",class:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap"},w={class:"text-base font-semibold"},v={class:"px-6 py-4"},L={class:"px-6 py-4"},B={key:0,class:"bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300"},C={key:1,class:"bg-red-100 text-red-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-red-900 dark:text-red-300"},P={class:"px-6 py-4"},S={class:"px-6 py-4"},A={class:"px-6 py-4"},F=["onClick"],M={key:1,role:"status",class:"flex justify-center p-10"},Q={components:{Breadcrumb:n,Loader:i},props:["breadcrumbs","customer_rate"],data(){return{param:null,customers:null,searchQuery:null}},methods:{showModal(t){let a=document.getElementById(t);a.classList.remove("slide-out-bck-center"),a.classList.remove("no-display")},async deletePayment(t){try{(await axios.post("/customers/rates/payment/"+t)).data.message==="Payment deleted successfully."&&location.reload()}catch(a){console.log(a)}},async fetch(){this.customers=null;try{const t=await axios.get("/getCustomers",{params:{query:this.searchQuery}});this.customers=t.data}catch(t){console.log(t)}}},mounted(){this.fetch()},watch:{searchQuery:{handler(){this.fetch()},immediate:!0}}},R=Object.assign(Q,{__name:"CustomerRatePayments",setup(t){return(a,j)=>(o(),r(d,null,[l(m(h),{title:"Clientes"}),l(u,null,{default:p(()=>[l(n,{breadcrumbs:t.breadcrumbs},null,8,["breadcrumbs"]),e("div",y,[e("div",x,[t.customer_rate?(o(),r("table",g,[b,e("tbody",null,[(o(!0),r(d,null,_(t.customer_rate.customer_payments,(s,q)=>(o(),r("tr",f,[e("th",k,[e("div",w,c(new Date(s.created_at).toLocaleString()),1)]),e("td",v," S/"+c(s.total_payed),1),e("td",L,[s.payment_status_id==1?(o(),r("span",B,c(s.payment_status.name),1)):(o(),r("span",C,c(s.payment_status.name),1))]),e("td",P,c(s.payment_method),1),e("td",S,c(s.added_by),1),e("td",A,[e("i",{onClick:D=>a.deletePayment(s.id),class:"fa-solid fa-square-xmark text-3xl text-red-800 cursor-pointer ml-2"},null,8,F)])]))),256))])])):(o(),r("div",M,[l(i)]))])])]),_:1})],64))}});export{R as default};

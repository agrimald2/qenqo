import{o as l,f as a,a as d,u as f,w as g,F as i,Z as y,b as e,h as c,v as b,m as x,k as p,t as n,g as u}from"./app-a7ca0acf.js";import{A as _}from"./AuthenticatedLayout-c6bcfa3f.js";import{B as h}from"./Breadcrumb-08f68482.js";import"./_plugin-vue_export-helper-c27b6911.js";const w={class:"shadow-md sm:rounded-lg relative"},k={class:"px-2 flex items-center justify-between py-4 bg-white"},v={class:"flex items-center"},C={class:"relative w-full"},N=e("option",{value:0,class:"text-gray-900",selected:""},"Todas",-1),B=["value"],L=e("span",{class:"hidden md:flex"}," Nuevo ",-1),M=e("i",{class:"ml-2 fa-solid fa-user-plus font-xl"},null,-1),V=[L,M],I={class:"overflow-x-auto"},R={key:0,class:"w-full text-sm text-left text-gray-500 table"},q=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Nombre "),e("th",{scope:"col",class:"px-6 py-3"}," Celular "),e("th",{scope:"col",class:"px-6 py-3"}," Email "),e("th",{scope:"col",class:"px-6 py-3"}," ROL "),e("th",{scope:"col",class:"px-6 py-3"}," Acciones ")])],-1),A={class:"bg-white border-b hover:bg-gray-50"},D={scope:"row",class:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap"},E={class:"text-base font-semibold"},F={class:"px-6 py-4"},U={class:"px-6 py-4"},$={class:"px-6 py-4 text-gray-800 whitespace-nowrap"},j={class:"px-6 py-4"},O={class:"my-2 relative inline-flex items-center cursor-pointer"},Q=["checked"],S=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600"},null,-1),T=["href"],Z={key:0,class:"fa-solid fa-calendar-days text-3xl text-green-500 cursor-pointer ml-2"},z={components:{Breadcrumb:h},props:["breadcrumbs"],data(){return{param:null,users:null,searchQuery:null,role_id:null,roles:null}},methods:{showModal(r){let s=document.getElementById(r);s.classList.remove("slide-out-bck-center"),s.classList.remove("no-display")},async delete(r){try{const s=await axios.delete("/users/"+r);this.fetch()}catch(s){console.log(s)}},async fetch(){this.users=null;try{const r=await axios.get("/getUsers",{params:{name:this.param,role_id:this.role_id}});this.users=r.data}catch(r){console.log(r)}},async getRoles(){try{const r=await axios.get("/api/getRoles",{});this.roles=r.data}catch(r){console.log(r)}}},mounted(){this.fetch(),this.getRoles()},watch:{searchQuery:{handler(){this.fetch()},immediate:!0}}},W=Object.assign(z,{__name:"Index",setup(r){return(s,o)=>(l(),a(i,null,[d(f(y),{title:"Familias"}),d(_,null,{default:g(()=>[d(h,{breadcrumbs:r.breadcrumbs},null,8,["breadcrumbs"]),e("div",w,[e("div",k,[e("div",v,[e("div",C,[c(e("input",{type:"text",id:"simple-search","onUpdate:modelValue":o[0]||(o[0]=t=>s.search=t),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full pl-10 p-2.5 dark:placeholder-gray-400 dark:focus:ring-purple-500 dark:focus:border-purple-500",placeholder:"Nombre | NÂ° Doc",required:""},null,512),[[b,s.search]])]),c(e("select",{id:"roles",name:"roles","onUpdate:modelValue":o[1]||(o[1]=t=>s.role_id=t),onChange:o[2]||(o[2]=(...t)=>s.fetch&&s.fetch(...t)),class:"ml-2 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-purple-500 focus:border-purple-500 block w-full p-2.5 dark:placeholder-gray-400 dark:focus:ring-purple-500 dark:focus:border-purple-500"},[N,(l(!0),a(i,null,p(s.roles,t=>(l(),a("option",{value:t.id,class:"text-gray-900"},n(t.name),9,B))),256))],544),[[x,s.role_id]])]),e("button",{type:"button",onClick:o[3]||(o[3]=t=>s.showModal("createCustomer")),class:"text-white bg-purple-800 hover:bg-[#050708]/80 focus:ring-4 focus:outline-none focus:ring-[#050708]/50 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-gray-600 mr-2 mb-2"},V)]),e("div",I,[s.customers!=""?(l(),a("table",R,[q,e("tbody",null,[(l(!0),a(i,null,p(s.users,(t,G)=>(l(),a("tr",A,[e("th",D,[e("div",E,n(t.name)+" "+n(t.lastname),1)]),e("td",F,n(t.phone),1),e("td",U,n(t.email),1),e("td",$,n(t.role.name),1),e("td",j,[e("label",O,[e("input",{type:"checkbox",checked:t.is_enabled===1,class:"sr-only peer",disabled:""},null,8,Q),S]),e("i",{onClick:o[4]||(o[4]=m=>s.showModal("editInsuranceCompany"+s.insurance_company.id)),class:"fa-solid fa-square-pen text-3xl text-yellow-500 cursor-pointer ml-2"}),e("i",{onClick:o[5]||(o[5]=m=>s.deleteInsuranceCompany(s.insurance_company.id)),class:"fa-solid fa-square-xmark text-3xl text-red-500 cursor-pointer ml-2"}),e("a",{href:"/user/"+t.id+"/schedule"},[t.role.id==2?(l(),a("i",Z)):u("",!0)],8,T)])]))),256))])])):u("",!0)])])]),_:1})],64))}});export{W as default};
